:global(:root){
    --nav-height: 72px;  /* imposta nel layout */
    --footer-safe: 0px;
}

/* Sezione contenitore: parte sempre sotto la navbar */
.section{
    position: relative;
    min-height: calc(100vh - var(--nav-height));
    padding-top: calc(var(--nav-height) + 12px);
    padding-bottom: 48px;

    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;

    color: var(--foreground);
    font-family: var(--font-press-start);
    background: var(--background);
    overflow: clip; /* evita che la windowBar “sbordi” a top */
}

/* Card finestra */
.content{
    position: relative;
    z-index: 10; /* sopra il gioco */
    background: var(--background);
    width: min(92vw, 700px);
    margin: 0 2rem;
    padding: 3.25rem 2.25rem;

    border: 4px solid var(--color-primary);
    box-shadow: 4px 4px 0 var(--color-primary);
    transition: transform .28s ease;
}
.content:hover{ transform: scale(1.04); }
.keepBar{ transform: scale(1.04); }
.isHidden{ display:none; }

/* animazioni utili */
.fadeIn{ animation: wf_fade_in 1s forwards; }
@keyframes wf_fade_in{
    from{ opacity:0; transform: translateY(6px) scale(.98); }
    to  { opacity:1; transform: translateY(0)   scale(1); }
}

/* Barra finestra */
.windowBar{
    position: absolute;
    top: -2.25rem;
    left: 0;
    width: 100%;
    height: 2rem;
    background: var(--background);
    border: 4px solid var(--color-primary);
    border-bottom: none;

    display: none;
    align-items: center;
    justify-content: flex-end;
    gap: .5rem;
    padding-right: .5rem;
}
.content:hover .windowBar,
.content.keepBar .windowBar{ display:flex; }

/* Bottoni */
.btn{
    width: 1.5rem; height: 1.5rem;
    display:grid; place-items:center;
    font-family: var(--font-press-start);
    font-size: .8rem; line-height: 1.5rem;
    border: 2px solid var(--color-white);
    background: var(--color-white);
    color: var(--color-black);
    transition: transform .08s ease, box-shadow .08s ease, filter .08s ease;
}
.btn:focus-visible{ outline:2px solid var(--color-primary); outline-offset:2px; }
.btn:active{ transform: translateY(1px); box-shadow: 0 0 0 var(--color-primary); }

.min{ background:#0000ff; color:#fff; }
.max{ background:#00ff00; }
.cls{ background:#ff0000; }

.cls::before{ content:"X"; }
.min::before{ content:"_"; transform: translateY(-2px); }
.max::before{ content:"\25A1"; transform: translateY(-1px); }

/* Tray (icone delle finestre minimizzate) */
.tray{
    position: fixed;
    bottom: 14px;
    left: 14px;
    display:flex; gap:.5rem;
    z-index: 20;
}
.icon{
    width: 2rem; height: 2rem;
    background: var(--color-primary); color: var(--color-black);
    display:flex; align-items:center; justify-content:center;
    font-family: var(--font-press-start); font-size:.75rem; cursor:pointer;
    border: 2px solid var(--color-primary);
    box-shadow: 2px 2px 0 var(--color-primary);
    transition: transform .08s ease, box-shadow .08s ease, filter .08s ease;
}
.icon:hover { transform: translateY(-2px); filter: brightness(1.05); }
.icon:active{ transform: translateY(1px);  box-shadow: 0 0 0 var(--color-primary); }

/* Mobile */
@media (max-width: 768px){
    .section{
        min-height: auto;
        padding-top: calc(var(--nav-height) + 10px);
        padding-bottom: 36px;
    }
    .content{
        width: min(94vw, 640px);
        padding: 2rem 1.25rem;
    }
    .windowBar{
        top: -1.9rem; height: 1.7rem;
    }
    .btn{ width:1.25rem; height:1.25rem; font-size:.7rem; }
}
