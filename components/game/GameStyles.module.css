/* Wrapper locale richiesto da CSS Modules: rende "puri" i selettori */
.gameRoot {}

/* Tutto il gioco viene esposto come classi globali,
   cosÃ¬ JS puÃ² continuare a fare querySelector su nomi semplici. */

.gameRoot :global(.space-ship-container) {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80px;
    pointer-events: none;
    z-index: 2; /* sotto le finestre (che stanno a z 10) */
}

.gameRoot :global(.ship-shape) {
    position: absolute;
    left: 0;
    bottom: 4px;
    width: 64px;
    height: 72px;
    filter: drop-shadow(0 0 10px var(--foreground)); /* glow nave */
}

/* Layer proiettili a pieno schermo */
.gameRoot :global(.bullet-layer) {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
}

/* Proiettile (dimensioni allineate a BULLET_W/H nello script) */
.gameRoot :global(.bullet) {
    position: absolute;
    top: 0; /* aggiornato via JS */
    width: 4px;
    height: 20px;
    background: var(--foreground);
    box-shadow: 0 0 10px var(--foreground);
}

/* Layer nemici */
.gameRoot :global(.aliens-layer) {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1; /* ancora piÃ¹ sotto */
}

/* Fantasmini ðŸ‘» (occhi/pupille) */
.gameRoot :global(.aliens-layer .alien.ghost .eye) {
    position: absolute;
    top: 36%;
    width: 16px;
    height: 16px;
    background: #fff;
    border-radius: 50%;
}
.gameRoot :global(.aliens-layer .alien.ghost .eye .pupil) {
    position: absolute;
    top: 40%;
    left: 40%;
    width: 6px;
    height: 6px;
    background: #000;
    border-radius: 50%;
}

/* Invader ðŸ‘¾ composto da blocchi (gli "add()" nello script).
   Qui lasciamo trasparente: i blocchi interni fanno il corpo. */
.gameRoot :global(.aliens-layer .alien.invader) {
    position: absolute;
    background: transparent;
}

/* Esplosione coreografica */
.gameRoot :global(.explosion) {
    position: absolute;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 2;
    animation: boom 0.55s ease-out forwards;
}
.gameRoot :global(.explosion::before),
.gameRoot :global(.explosion::after) {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: 50%;
    border: 3px solid currentColor;
    opacity: .6;
    animation: boom-ring .55s ease-out forwards;
}
.gameRoot :global(.explosion::after) {
    inset: -12px;
    opacity: .35;
    border-width: 2px;
    animation-delay: .05s;
}

@keyframes boom {
    0%   { transform: scale(0.5); opacity: 1; }
    100% { transform: scale(4.2); opacity: 0; }
}
@keyframes boom-ring {
    0%   { transform: scale(0.6); opacity: .7; }
    100% { transform: scale(2.6); opacity: 0; }
}

/* Toggle in basso a SINISTRA, lontano dalla navbar */
.gameRoot :global(.game-toggle) {
    position: fixed;
    bottom: 14px;
    left: 14px;
    z-index: 30;
    padding: .4rem .6rem;
    background: var(--color-primary);
    color: var(--color-black);
    border: 2px solid var(--color-primary);
    cursor: pointer;
    font-family: var(--font-press-start);
    font-size: .8rem;
    box-shadow: 2px 2px 0 var(--color-primary);
}

/* Mobile: nave leggermente piÃ¹ piccola */
@media (max-width: 600px) {
    .gameRoot :global(.ship-shape) { width: 54px; height: 60px; }
}
